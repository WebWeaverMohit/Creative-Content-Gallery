<% include ./partials/header.ejs %>
<div
  class="w-full min-h-screen bg-cream px-4 sm:px-10 py-8 text-primary overflow-y-auto"
>
  <div
    class="cards flex flex-wrap justify-center sm:justify-start gap-6 sm:gap-8 w-full"
  >
    <% posts.forEach(function(card) { %>
    <a
      href="/show/post/<%= card._id %>"
      class="card w-64 hover:scale-[1.03] transition-transform duration-300"
    >
      <div class="bg-mustard overflow-hidden rounded-2xl w-full h-40 shadow-md">
        <% const isExternal = card.image.startsWith("http"); %>
        <img
          class="w-full h-full object-cover"
          src="<%= isExternal ? card.image : '/images/uploads/' + card.image %>"
          alt="Post Image"
        />
      </div>
      <h5 class="px-2 mt-2 text-lg font-semibold truncate">
        <%= card.title %>
      </h5>
      <h4 class="px-2 text-sm capitalize opacity-70">
        @<%= card.user.username %>
      </h4>
    </a>
    <% }) %>
  </div>
</div>
<% include ./partials/footer.ejs %>
