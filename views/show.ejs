<% include ./partials/header.ejs %>
<div
  class="w-full min-h-screen bg-cream text-primary px-4 sm:px-10 py-8 overflow-y-auto"
>
  <div class="cards flex flex-wrap justify-center sm:justify-start gap-6">
    <% user.posts.forEach(function(card) { %>
    <div
      class="card relative w-64 group transition-transform hover:scale-[1.03] duration-300"
    >
      <div class="bg-mustard overflow-hidden rounded-xl w-full h-40 shadow-sm">
        <% const isExternal = card.image.startsWith("http"); %>
        <img
          class="w-full h-full object-cover"
          src="<%= isExternal ? card.image : '/images/uploads/' + card.image %>"
          alt="Post Image"
        />
      </div>
      <h5 class="px-2 mt-2 text-lg font-semibold truncate">
        <%= card.title %>
      </h5>

      <!-- Action Buttons -->
      <div
        class="absolute bottom-3 right-4 flex gap-4 text-xl opacity-80 group-hover:opacity-100 transition-opacity"
      >
        <a href="/editpost/<%= card._id %>" title="Edit">
          <i class="ri-pencil-line hover:text-secondary cursor-pointer"></i>
        </a>
        <a href="/delete/<%= card._id %>" title="Delete">
          <i class="ri-delete-bin-7-line hover:text-red-600 cursor-pointer"></i>
        </a>
      </div>
    </div>
    <% }) %>
  </div>
</div>
<% include ./partials/footer.ejs %>
